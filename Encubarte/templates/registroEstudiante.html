{%extends "base.html"%}

{% block titulo %}Registro Estudiante{% endblock %}
{% block contenido %}
	{%if errorNumeroDocumento or errorTipoDocumento or errorContrasena or errorCorreoElectronico or errorFechaNacimiento or errorGenero or errorTelefonos or errorDocumento %}
	<div class="container">
		<h3>Corrige los siguientes errores para continuar:</h3>
		<p class="text-error">
			{% if errorNumeroDocumento %}
				El número de documento que seleccionaste ya está en uso o no es un número.<br>
			{% endif %}
			{% if errorTipoDocumento %}
				No seleccionaste un tipo de documento correcto.<br>
			{% endif %}
			{% if errorContrasena %}
				Las contraseñas no coinciden, verifica por favor.<br>
			{% endif %}
			{% if errorCorreoElectronico %}
				El correo ya está en uso, intenta otro.<br>
			{% endif %}
			{% if errorFechaNacimiento %}
				La fecha no es correcta, si tu navegador no muestra un campo de fecha intenta con el formato aaaa-mm-dd.<br>
			{% endif %}
			{% if errorGenero %}
				No seleccionaste un género correcto.<br>
			{% endif %}
			{% if errorTelefonos %}
				Los telefonos deben ser solo números y no exceder los 12 caracteres, por favor revisa los campos de teléfono fijo, celular y de contacto.<br>
			{% endif %}
			{% if errorDocumento %}
				el documento ingresado no es valido.<br>
			{% endif %}	
		</p>
	</div>
	{% endif %}

	{%if conectado%}
		<form action="/logout/" name="logout">
			{% csrf_token %}
			<div class="container">
				<p>Ya estás registrado y logueado como {{nombreUsuario}}, para crear un nuevo usuario debes cerrar sesión primero</p>
		        <label>Cerrar sesión:</label>
		        <input type="submit" value="Log out" name="logout"/>
		    </div>
		</form>
	{%else %}
		<form method="POST" action="/registroEstudiante/" name="registroEstudiante" enctype="multipart/form-data">
			{% csrf_token %}
			<div class="container">
			<h3>Ingresa tus datos</hs3>
			<p class="text-info"><h5>Por favor ingrese todos los campos requeridos (*)</h5></p>
			<table class="table-bordered table-striped table-hover">
				<tbody>
					<tr>
				        <td><label>Numero Documento:</label></td>
				        <td><input type="text" name="numeroDocumento" required="true" pattern="[0-9]{8,20}" value="{{numeroDocumento}}"/>*</td>
				    </tr>
				    <tr>
				        <td><label>Tipo de Documento:</label></td>
				        <td>
				        	<select name="tipoDocumento" value="{{tipoDocumento}}">
				        		{% for t in  tiposDocumento%}
				        			<option>{{t}}</option>
				        		{% endfor %}
				        	</select>
				    	</td>
				    </tr>
				    <tr>
				        <td><label>Contraseña:</label></td>
				        <td><input type="password" name="contrasena" required="true"/>*</td>
				    </tr>
				    <tr>
				        <td><label>Repite la Contraseña:</label></td>
				        <td><input type="password" name="contrasena2" required="true"/>*</td>
				    </tr>
				    <tr>
				        <td><label>Correo Electronico:</label></td>
				        <td><input type="email" name="correoElectronico" required="true" value="{{correoElectronico}}"/>*</td>
				    </tr>
				    <tr>
				        <td><label>Nombres:</label></td>
				        <td><input type="text" name="nombres" required="true" value="{{nombres}}"/>*</td>
				    </tr>
				    <tr>
				        <td><label>Apellidos:</label></td>
				        <td><input type="text" name="apellidos" required="true" value="{{apellidos}}"/>*</td>
				    </tr>
				    <tr>
				        <td><label>Fecha de nacimiento:</label></td>
				        <td><input type="date" name="fechaNacimiento" required="true" value="{{fechaNacimiento}}"/>*</td>
				    </tr>
				    <tr>
				        <td><label>Género:</label></td>
				        <td>
				        	<select name="genero" value="{{genero}}">
				        		{% for g in  generos%}
				        			<option>{{g}}</option>
				        		{% endfor %}
				        	</select>
				    	</td>
				    </tr>
				    <tr>
				        <td><label>Dirección:</label></td>
				        <td><input type="text" name="direccion" required="true" value="{{direccion}}"/>*</td>
				    </tr>
				    <tr>
				        <td><label>Barrio:</label></td>
				        <td><input type="text" name="barrio" required="true" value="{{barrio}}"/>*</td>
				    </tr>
				    <tr>
				        <td><label>Telefono Fijo:</label></td>
				        <td><input type="text" name="telefonoFijo" required="true" pattern="[0-9]{7,12}" value="{{telefonoFijo}}"/>*</td>
				    </tr>
				    <tr>
				        <td><label>Telefonos Celular:</label></td>
				        <td><input type="text" name="telefonoCelular" required="true" pattern="[0-9]{7,12}" value="{{telefonoCelular}}"/>*</td>
				    </tr>
				    <tr>
				        <td><label>Seguridad social:</label></td>
				        <td><input type="text" name="seguridadSocial" required="true" value="{{seguridadSocial}}"/>*</td>
				    </tr>
				    <tr>
				        <td><label>Zona:</label></td>
				        <td><input type="text" name="zona" value="{{zona}}"/></td>
				    </tr>
				    <tr>
				        <td><label>Comuna:</label></td>
				        <td><input type="text" name="comuna" value="{{comuna}}"/></td>
				    </tr>
				    <tr>
				        <td><label>Grupo etnico:</label></td>
				        <td><input type="text" name="grupoEtnico" value="{{grupoEtnico}}"/></td>
				    </tr>
				    <tr>
				        <td><label>Condicion:</label></td>
				        <td><input type="text" name="condicion" value="{{condicion}}"/></td>
				    </tr>
				    <tr>
				        <td><label>Deseas recibir información en tu correo electronico?:</label></td>
				        <td><input type="checkbox" name="enviarInfoAlCorreo" value="{{enviarInfoAlCorreo}}"/></td>
				    </tr>
				    <tr>
				        <td><label>Documento:</label></td>
				        <td><input type="file" accept=".jpg,.jpeg" name="documento" value="{{documento}}" required="true"/>*</td>
				    </tr>
				    <tr>
				        <td><input type="submit" class="btn" value="Regístrate" name="registrarEstudiante"/>
				    </tr>
				</tbody>
			</table>
			</div>
		</form>
	{% endif %}
{% endblock %}